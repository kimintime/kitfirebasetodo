{"ast":null,"code":"// ag-grid-react v27.3.0\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ag_grid_community_1 = require(\"ag-grid-community\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar utils_1 = require(\"../utils\");\n\nvar popupEditorComp_1 = __importDefault(require(\"./popupEditorComp\"));\n\nvar showJsRenderer_1 = __importDefault(require(\"./showJsRenderer\"));\n\nvar beansContext_1 = require(\"../beansContext\");\n\nvar jsComp_1 = require(\"../jsComp\");\n\nvar useEffectOnce_1 = require(\"../useEffectOnce\");\n\nvar CellCompState;\n\n(function (CellCompState) {\n  CellCompState[CellCompState[\"ShowValue\"] = 0] = \"ShowValue\";\n  CellCompState[CellCompState[\"EditValue\"] = 1] = \"EditValue\";\n})(CellCompState = exports.CellCompState || (exports.CellCompState = {}));\n\nvar checkCellEditorDeprecations = function checkCellEditorDeprecations(popup, cellEditor, cellCtrl) {\n  var col = cellCtrl.getColumn(); // cellEditor is written to be a popup editor, however colDef.cellEditorPopup is not set\n\n  if (!popup && cellEditor.isPopup && cellEditor.isPopup()) {\n    var msg_1 = \"AG Grid: Found an issue in column \" + col.getColId() + \". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.\";\n\n    ag_grid_community_1._.doOnce(function () {\n      return console.warn(msg_1);\n    }, 'jsEditorComp-isPopup-' + cellCtrl.getColumn().getColId());\n  } // cellEditor is a popup and is trying to position itself the deprecated way\n\n\n  if (popup && cellEditor.getPopupPosition && cellEditor.getPopupPosition() != null) {\n    var msg_2 = \"AG Grid: Found an issue in column \" + col.getColId() + \". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.\";\n\n    ag_grid_community_1._.doOnce(function () {\n      return console.warn(msg_2);\n    }, 'jsEditorComp-getPopupPosition-' + cellCtrl.getColumn().getColId());\n  }\n};\n\nvar jsxEditValue = function jsxEditValue(editDetails, setInlineCellEditorRef, setPopupCellEditorRef, eGui, cellCtrl, jsEditorComp) {\n  var compDetails = editDetails.compDetails;\n  var CellEditorClass = compDetails.componentClass;\n  var reactInlineEditor = compDetails.componentFromFramework && !editDetails.popup;\n  var reactPopupEditor = compDetails.componentFromFramework && editDetails.popup;\n  var jsPopupEditor = !compDetails.componentFromFramework && editDetails.popup;\n  return react_1.default.createElement(react_1.default.Fragment, null, reactInlineEditor && react_1.default.createElement(CellEditorClass, __assign({}, editDetails.compDetails.params, {\n    ref: setInlineCellEditorRef\n  })), reactPopupEditor && react_1.default.createElement(popupEditorComp_1.default, {\n    editDetails: editDetails,\n    cellCtrl: cellCtrl,\n    eParentCell: eGui,\n    wrappedContent: react_1.default.createElement(CellEditorClass, __assign({}, editDetails.compDetails.params, {\n      ref: setPopupCellEditorRef\n    }))\n  }), jsPopupEditor && jsEditorComp && react_1.default.createElement(popupEditorComp_1.default, {\n    editDetails: editDetails,\n    cellCtrl: cellCtrl,\n    eParentCell: eGui,\n    jsChildComp: jsEditorComp\n  }));\n};\n\nvar jsxShowValue = function jsxShowValue(showDetails, key, parentId, cellRendererRef, showCellWrapper, reactCellRendererStateless, setECellValue) {\n  var compDetails = showDetails.compDetails,\n      value = showDetails.value;\n  var noCellRenderer = !compDetails;\n  var reactCellRenderer = compDetails && compDetails.componentFromFramework;\n  var CellRendererClass = compDetails && compDetails.componentClass; // if we didn't do this, objects would cause React error. we depend on objects for things\n  // like the aggregation functions avg and count, which return objects and depend on toString()\n  // getting called.\n\n  var valueForNoCellRenderer = value && value.toString ? value.toString() : value;\n\n  var bodyJsxFunc = function bodyJsxFunc() {\n    return react_1.default.createElement(react_1.default.Fragment, null, noCellRenderer && react_1.default.createElement(react_1.default.Fragment, null, valueForNoCellRenderer), reactCellRenderer && !reactCellRendererStateless && react_1.default.createElement(CellRendererClass, __assign({}, compDetails.params, {\n      key: key,\n      ref: cellRendererRef\n    })), reactCellRenderer && reactCellRendererStateless && react_1.default.createElement(CellRendererClass, __assign({}, compDetails.params, {\n      key: key\n    })));\n  };\n\n  return react_1.default.createElement(react_1.default.Fragment, null, showCellWrapper ? react_1.default.createElement(\"span\", {\n    role: \"presentation\",\n    id: \"cell-\" + parentId,\n    className: \"ag-cell-value\",\n    ref: setECellValue\n  }, bodyJsxFunc()) : bodyJsxFunc());\n};\n\nvar CellComp = function CellComp(props) {\n  var context = react_1.useContext(beansContext_1.BeansContext).context;\n  var cellCtrl = props.cellCtrl,\n      printLayout = props.printLayout,\n      editingRow = props.editingRow;\n\n  var _a = react_1.useState(),\n      renderDetails = _a[0],\n      _setRenderDetails = _a[1];\n\n  var _b = react_1.useState(),\n      editDetails = _b[0],\n      _setEditDetails = _b[1];\n\n  var _c = react_1.useState(1),\n      renderKey = _c[0],\n      setRenderKey = _c[1];\n\n  var _d = react_1.useState(new utils_1.CssClasses()),\n      cssClasses = _d[0],\n      setCssClasses = _d[1];\n\n  var _e = react_1.useState(),\n      userStyles = _e[0],\n      _setUserStyles = _e[1];\n\n  var _f = react_1.useState(),\n      tabIndex = _f[0],\n      _setTabIndex = _f[1];\n\n  var _g = react_1.useState(),\n      ariaDescribedBy = _g[0],\n      setAriaDescribedBy = _g[1];\n\n  var _h = react_1.useState(),\n      role = _h[0],\n      _setRole = _h[1];\n\n  var _j = react_1.useState(),\n      colId = _j[0],\n      _setColId = _j[1];\n\n  var _k = react_1.useState(),\n      title = _k[0],\n      _setTitle = _k[1];\n\n  var _l = react_1.useState(false),\n      includeSelection = _l[0],\n      _setIncludeSelection = _l[1];\n\n  var _m = react_1.useState(false),\n      includeRowDrag = _m[0],\n      _setIncludeRowDrag = _m[1];\n\n  var _o = react_1.useState(false),\n      includeDndSource = _o[0],\n      _setIncludeDndSource = _o[1];\n\n  var _p = react_1.useState(),\n      jsEditorComp = _p[0],\n      setJsEditorComp = _p[1];\n\n  var forceWrapper = react_1.useMemo(function () {\n    return cellCtrl.isForceWrapper();\n  }, []);\n  var eGui = react_1.useRef(null);\n  var cellRendererRef = react_1.useRef(null);\n  var jsCellRendererRef = react_1.useRef();\n  var cellEditorRef = react_1.useRef(); // when setting the ref, we also update the state item to force a re-render\n\n  var eCellWrapper = react_1.useRef();\n\n  var _q = react_1.useState(0),\n      cellWrapperVersion = _q[0],\n      setCellWrapperVersion = _q[1];\n\n  var setCellWrapperRef = react_1.useCallback(function (ref) {\n    eCellWrapper.current = ref;\n    setCellWrapperVersion(function (v) {\n      return v + 1;\n    });\n  }, []); // when setting the ref, we also update the state item to force a re-render\n\n  var eCellValue = react_1.useRef();\n\n  var _r = react_1.useState(0),\n      cellValueVersion = _r[0],\n      setCellValueVersion = _r[1];\n\n  var setCellValueRef = react_1.useCallback(function (ref) {\n    eCellValue.current = ref;\n    setCellValueVersion(function (v) {\n      return v + 1;\n    });\n  }, []);\n  var showTools = renderDetails != null && (includeSelection || includeDndSource || includeRowDrag);\n  var showCellWrapper = forceWrapper || showTools;\n  var setCellEditorRef = react_1.useCallback(function (popup, cellEditor) {\n    cellEditorRef.current = cellEditor;\n\n    if (cellEditor) {\n      checkCellEditorDeprecations(popup, cellEditor, cellCtrl);\n      var editingCancelledByUserComp = cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart();\n\n      if (editingCancelledByUserComp) {\n        // we cannot set state inside render, so hack is to do it in next VM turn\n        setTimeout(function () {\n          return cellCtrl.stopEditing();\n        }, 0);\n      }\n    }\n  }, []);\n  var setPopupCellEditorRef = react_1.useCallback(function (cellRenderer) {\n    return setCellEditorRef(true, cellRenderer);\n  }, []);\n  var setInlineCellEditorRef = react_1.useCallback(function (cellRenderer) {\n    return setCellEditorRef(false, cellRenderer);\n  }, []);\n  showJsRenderer_1.default(renderDetails, showCellWrapper, eCellValue.current, cellValueVersion, jsCellRendererRef, eGui); // if RenderDetails changed, need to call refresh. This is not our preferred way (the preferred\n  // way for React is just allow the new props to propagate down to the React Cell Renderer)\n  // however we do this for backwards compatibility, as having refresh used to be supported.\n\n  var lastRenderDetails = react_1.useRef();\n  react_1.useEffect(function () {\n    var oldDetails = lastRenderDetails.current;\n    var newDetails = renderDetails;\n    lastRenderDetails.current = renderDetails; // if not updating renderDetails, do nothing\n\n    if (oldDetails == null || oldDetails.compDetails == null || newDetails == null || newDetails.compDetails == null) {\n      return;\n    }\n\n    var oldCompDetails = oldDetails.compDetails;\n    var newCompDetails = newDetails.compDetails; // if different Cell Renderer, then do nothing, as renderer will be recreated\n\n    if (oldCompDetails.componentClass != newCompDetails.componentClass) {\n      return;\n    } // if no refresh method, do nothing\n\n\n    if (cellRendererRef.current == null || cellRendererRef.current.refresh == null) {\n      return;\n    }\n\n    var result = cellRendererRef.current.refresh(newCompDetails.params);\n\n    if (result != true) {\n      // increasing the render key forces the refresh. this is undocumented (for React users,\n      // we don't document the refresh method, instead we tell them to act on new params).\n      // however the GroupCellRenderer has this logic in it and would need a small refactor\n      // to get it working without using refresh() returning false. so this hack staying in,\n      // in React if refresh() is implemented and returns false (or undefined), we force a refresh\n      setRenderKey(function (prev) {\n        return prev + 1;\n      });\n    }\n  }, [renderDetails]);\n  react_1.useEffect(function () {\n    var doingJsEditor = editDetails && !editDetails.compDetails.componentFromFramework;\n\n    if (!doingJsEditor) {\n      return;\n    }\n\n    var compDetails = editDetails.compDetails;\n    var isPopup = editDetails.popup === true;\n    var cellEditor = jsComp_1.createSyncJsComp(compDetails);\n\n    if (!cellEditor) {\n      return;\n    }\n\n    var compGui = cellEditor.getGui();\n    setCellEditorRef(isPopup, cellEditor);\n\n    if (!isPopup) {\n      eGui.current.appendChild(compGui);\n      cellEditor.afterGuiAttached && cellEditor.afterGuiAttached();\n    }\n\n    setJsEditorComp(cellEditor);\n    return function () {\n      context.destroyBean(cellEditor);\n      setCellEditorRef(isPopup, undefined);\n      setJsEditorComp(undefined);\n\n      if (compGui && compGui.parentElement) {\n        compGui.parentElement.removeChild(compGui);\n      }\n    };\n  }, [editDetails]); // tool widgets effect\n\n  react_1.useEffect(function () {\n    if (!cellCtrl || !context) {\n      return;\n    }\n\n    setAriaDescribedBy(!!eCellWrapper.current ? \"cell-\" + cellCtrl.getInstanceId() : undefined);\n\n    if (!eCellWrapper.current || !showCellWrapper) {\n      return;\n    }\n\n    var destroyFuncs = [];\n\n    var addComp = function addComp(comp) {\n      if (comp) {\n        var eGui_1 = comp.getGui();\n        eCellWrapper.current.insertAdjacentElement('afterbegin', eGui_1);\n        destroyFuncs.push(function () {\n          context.destroyBean(comp);\n\n          ag_grid_community_1._.removeFromParent(eGui_1);\n        });\n      }\n\n      return comp;\n    };\n\n    if (includeSelection) {\n      addComp(cellCtrl.createSelectionCheckbox());\n    }\n\n    if (includeDndSource) {\n      addComp(cellCtrl.createDndSource());\n    }\n\n    if (includeRowDrag) {\n      addComp(cellCtrl.createRowDragComp());\n    }\n\n    return function () {\n      destroyFuncs.forEach(function (f) {\n        f();\n      });\n    };\n  }, [showCellWrapper, includeDndSource, includeRowDrag, includeSelection, cellWrapperVersion]);\n  useEffectOnce_1.useEffectOnce(function () {\n    if (!cellCtrl) {\n      return;\n    }\n\n    var compProxy = {\n      addOrRemoveCssClass: function addOrRemoveCssClass(name, on) {\n        return setCssClasses(function (prev) {\n          return prev.setClass(name, on);\n        });\n      },\n      setUserStyles: function setUserStyles(styles) {\n        return _setUserStyles(styles);\n      },\n      getFocusableElement: function getFocusableElement() {\n        return eGui.current;\n      },\n      setTabIndex: function setTabIndex(tabIndex) {\n        return _setTabIndex(tabIndex);\n      },\n      setRole: function setRole(role) {\n        return _setRole(role);\n      },\n      setColId: function setColId(colId) {\n        return _setColId(colId);\n      },\n      setTitle: function setTitle(title) {\n        return _setTitle(title);\n      },\n      setIncludeSelection: function setIncludeSelection(include) {\n        return _setIncludeSelection(include);\n      },\n      setIncludeRowDrag: function setIncludeRowDrag(include) {\n        return _setIncludeRowDrag(include);\n      },\n      setIncludeDndSource: function setIncludeDndSource(include) {\n        return _setIncludeDndSource(include);\n      },\n      getCellEditor: function getCellEditor() {\n        return cellEditorRef.current || null;\n      },\n      getCellRenderer: function getCellRenderer() {\n        return cellRendererRef.current ? cellRendererRef.current : jsCellRendererRef.current;\n      },\n      getParentOfValue: function getParentOfValue() {\n        return eCellValue.current ? eCellValue.current : eCellWrapper.current ? eCellWrapper.current : eGui.current;\n      },\n      setRenderDetails: function setRenderDetails(compDetails, value, force) {\n        _setRenderDetails({\n          value: value,\n          compDetails: compDetails,\n          force: force\n        });\n      },\n      setEditDetails: function setEditDetails(compDetails, popup, popupPosition) {\n        if (compDetails) {\n          // start editing\n          _setEditDetails({\n            compDetails: compDetails,\n            popup: popup,\n            popupPosition: popupPosition\n          });\n\n          if (!popup) {\n            _setRenderDetails(undefined);\n          }\n        } else {\n          // stop editing\n          _setEditDetails(undefined);\n        }\n      }\n    };\n    var cellWrapperOrUndefined = eCellWrapper.current || undefined;\n    cellCtrl.setComp(compProxy, eGui.current, cellWrapperOrUndefined, printLayout, editingRow);\n  });\n  var reactCellRendererStateless = react_1.useMemo(function () {\n    var res = renderDetails && renderDetails.compDetails && renderDetails.compDetails.componentFromFramework && utils_1.isComponentStateless(renderDetails.compDetails.componentClass);\n    return !!res;\n  }, [renderDetails]);\n  var className = react_1.useMemo(function () {\n    var res = cssClasses.toString();\n\n    if (!showCellWrapper) {\n      res += ' ag-cell-value';\n    }\n\n    return res;\n  }, [cssClasses, showTools]);\n  var cellInstanceId = react_1.useMemo(function () {\n    return cellCtrl.getInstanceId();\n  }, []);\n\n  var showContents = function showContents() {\n    return react_1.default.createElement(react_1.default.Fragment, null, renderDetails != null && jsxShowValue(renderDetails, renderKey, cellInstanceId, cellRendererRef, showCellWrapper, reactCellRendererStateless, setCellValueRef), editDetails != null && jsxEditValue(editDetails, setInlineCellEditorRef, setPopupCellEditorRef, eGui.current, cellCtrl, jsEditorComp));\n  };\n\n  return react_1.default.createElement(\"div\", {\n    ref: eGui,\n    className: className,\n    style: userStyles,\n    tabIndex: tabIndex,\n    role: role,\n    \"col-id\": colId,\n    title: title,\n    \"aria-describedby\": ariaDescribedBy\n  }, showCellWrapper ? react_1.default.createElement(\"div\", {\n    className: \"ag-cell-wrapper\",\n    role: \"presentation\",\n    ref: setCellWrapperRef\n  }, showContents()) : showContents());\n};\n\nexports.default = react_1.memo(CellComp);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importStar","mod","__esModule","result","k","__importDefault","defineProperty","exports","value","ag_grid_community_1","require","react_1","utils_1","popupEditorComp_1","showJsRenderer_1","beansContext_1","jsComp_1","useEffectOnce_1","CellCompState","checkCellEditorDeprecations","popup","cellEditor","cellCtrl","col","getColumn","isPopup","msg_1","getColId","_","doOnce","console","warn","getPopupPosition","msg_2","jsxEditValue","editDetails","setInlineCellEditorRef","setPopupCellEditorRef","eGui","jsEditorComp","compDetails","CellEditorClass","componentClass","reactInlineEditor","componentFromFramework","reactPopupEditor","jsPopupEditor","default","createElement","Fragment","params","ref","eParentCell","wrappedContent","jsChildComp","jsxShowValue","showDetails","key","parentId","cellRendererRef","showCellWrapper","reactCellRendererStateless","setECellValue","noCellRenderer","reactCellRenderer","CellRendererClass","valueForNoCellRenderer","toString","bodyJsxFunc","role","id","className","CellComp","props","context","useContext","BeansContext","printLayout","editingRow","_a","useState","renderDetails","setRenderDetails","_b","setEditDetails","_c","renderKey","setRenderKey","_d","CssClasses","cssClasses","setCssClasses","_e","userStyles","setUserStyles","_f","tabIndex","setTabIndex","_g","ariaDescribedBy","setAriaDescribedBy","_h","setRole","_j","colId","setColId","_k","title","setTitle","_l","includeSelection","setIncludeSelection","_m","includeRowDrag","setIncludeRowDrag","_o","includeDndSource","setIncludeDndSource","_p","setJsEditorComp","forceWrapper","useMemo","isForceWrapper","useRef","jsCellRendererRef","cellEditorRef","eCellWrapper","_q","cellWrapperVersion","setCellWrapperVersion","setCellWrapperRef","useCallback","current","v","eCellValue","_r","cellValueVersion","setCellValueVersion","setCellValueRef","showTools","setCellEditorRef","editingCancelledByUserComp","isCancelBeforeStart","setTimeout","stopEditing","cellRenderer","lastRenderDetails","useEffect","oldDetails","newDetails","oldCompDetails","newCompDetails","refresh","prev","doingJsEditor","createSyncJsComp","compGui","getGui","appendChild","afterGuiAttached","destroyBean","undefined","parentElement","removeChild","getInstanceId","destroyFuncs","addComp","comp","eGui_1","insertAdjacentElement","push","removeFromParent","createSelectionCheckbox","createDndSource","createRowDragComp","forEach","f","useEffectOnce","compProxy","addOrRemoveCssClass","name","on","setClass","styles","getFocusableElement","include","getCellEditor","getCellRenderer","getParentOfValue","force","popupPosition","cellWrapperOrUndefined","setComp","res","isComponentStateless","cellInstanceId","showContents","style","memo"],"sources":["/Users/apollostowel/firebasetodo/node_modules/ag-grid-react/lib/reactUi/cells/cellComp.js"],"sourcesContent":["// ag-grid-react v27.3.0\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ag_grid_community_1 = require(\"ag-grid-community\");\nvar react_1 = __importStar(require(\"react\"));\nvar utils_1 = require(\"../utils\");\nvar popupEditorComp_1 = __importDefault(require(\"./popupEditorComp\"));\nvar showJsRenderer_1 = __importDefault(require(\"./showJsRenderer\"));\nvar beansContext_1 = require(\"../beansContext\");\nvar jsComp_1 = require(\"../jsComp\");\nvar useEffectOnce_1 = require(\"../useEffectOnce\");\nvar CellCompState;\n(function (CellCompState) {\n    CellCompState[CellCompState[\"ShowValue\"] = 0] = \"ShowValue\";\n    CellCompState[CellCompState[\"EditValue\"] = 1] = \"EditValue\";\n})(CellCompState = exports.CellCompState || (exports.CellCompState = {}));\nvar checkCellEditorDeprecations = function (popup, cellEditor, cellCtrl) {\n    var col = cellCtrl.getColumn();\n    // cellEditor is written to be a popup editor, however colDef.cellEditorPopup is not set\n    if (!popup && cellEditor.isPopup && cellEditor.isPopup()) {\n        var msg_1 = \"AG Grid: Found an issue in column \" + col.getColId() + \". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.\";\n        ag_grid_community_1._.doOnce(function () { return console.warn(msg_1); }, 'jsEditorComp-isPopup-' + cellCtrl.getColumn().getColId());\n    }\n    // cellEditor is a popup and is trying to position itself the deprecated way\n    if (popup && cellEditor.getPopupPosition && cellEditor.getPopupPosition() != null) {\n        var msg_2 = \"AG Grid: Found an issue in column \" + col.getColId() + \". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.\";\n        ag_grid_community_1._.doOnce(function () { return console.warn(msg_2); }, 'jsEditorComp-getPopupPosition-' + cellCtrl.getColumn().getColId());\n    }\n};\nvar jsxEditValue = function (editDetails, setInlineCellEditorRef, setPopupCellEditorRef, eGui, cellCtrl, jsEditorComp) {\n    var compDetails = editDetails.compDetails;\n    var CellEditorClass = compDetails.componentClass;\n    var reactInlineEditor = compDetails.componentFromFramework && !editDetails.popup;\n    var reactPopupEditor = compDetails.componentFromFramework && editDetails.popup;\n    var jsPopupEditor = !compDetails.componentFromFramework && editDetails.popup;\n    return (react_1.default.createElement(react_1.default.Fragment, null,\n        reactInlineEditor\n            && react_1.default.createElement(CellEditorClass, __assign({}, editDetails.compDetails.params, { ref: setInlineCellEditorRef })),\n        reactPopupEditor\n            && react_1.default.createElement(popupEditorComp_1.default, { editDetails: editDetails, cellCtrl: cellCtrl, eParentCell: eGui, wrappedContent: react_1.default.createElement(CellEditorClass, __assign({}, editDetails.compDetails.params, { ref: setPopupCellEditorRef })) }),\n        jsPopupEditor && jsEditorComp && react_1.default.createElement(popupEditorComp_1.default, { editDetails: editDetails, cellCtrl: cellCtrl, eParentCell: eGui, jsChildComp: jsEditorComp })));\n};\nvar jsxShowValue = function (showDetails, key, parentId, cellRendererRef, showCellWrapper, reactCellRendererStateless, setECellValue) {\n    var compDetails = showDetails.compDetails, value = showDetails.value;\n    var noCellRenderer = !compDetails;\n    var reactCellRenderer = compDetails && compDetails.componentFromFramework;\n    var CellRendererClass = compDetails && compDetails.componentClass;\n    // if we didn't do this, objects would cause React error. we depend on objects for things\n    // like the aggregation functions avg and count, which return objects and depend on toString()\n    // getting called.\n    var valueForNoCellRenderer = (value && value.toString) ? value.toString() : value;\n    var bodyJsxFunc = function () { return (react_1.default.createElement(react_1.default.Fragment, null,\n        noCellRenderer && react_1.default.createElement(react_1.default.Fragment, null, valueForNoCellRenderer),\n        reactCellRenderer && !reactCellRendererStateless && react_1.default.createElement(CellRendererClass, __assign({}, compDetails.params, { key: key, ref: cellRendererRef })),\n        reactCellRenderer && reactCellRendererStateless && react_1.default.createElement(CellRendererClass, __assign({}, compDetails.params, { key: key })))); };\n    return (react_1.default.createElement(react_1.default.Fragment, null, showCellWrapper ?\n        react_1.default.createElement(\"span\", { role: \"presentation\", id: \"cell-\" + parentId, className: \"ag-cell-value\", ref: setECellValue }, bodyJsxFunc())\n        :\n            bodyJsxFunc()));\n};\nvar CellComp = function (props) {\n    var context = react_1.useContext(beansContext_1.BeansContext).context;\n    var cellCtrl = props.cellCtrl, printLayout = props.printLayout, editingRow = props.editingRow;\n    var _a = react_1.useState(), renderDetails = _a[0], setRenderDetails = _a[1];\n    var _b = react_1.useState(), editDetails = _b[0], setEditDetails = _b[1];\n    var _c = react_1.useState(1), renderKey = _c[0], setRenderKey = _c[1];\n    var _d = react_1.useState(new utils_1.CssClasses()), cssClasses = _d[0], setCssClasses = _d[1];\n    var _e = react_1.useState(), userStyles = _e[0], setUserStyles = _e[1];\n    var _f = react_1.useState(), tabIndex = _f[0], setTabIndex = _f[1];\n    var _g = react_1.useState(), ariaDescribedBy = _g[0], setAriaDescribedBy = _g[1];\n    var _h = react_1.useState(), role = _h[0], setRole = _h[1];\n    var _j = react_1.useState(), colId = _j[0], setColId = _j[1];\n    var _k = react_1.useState(), title = _k[0], setTitle = _k[1];\n    var _l = react_1.useState(false), includeSelection = _l[0], setIncludeSelection = _l[1];\n    var _m = react_1.useState(false), includeRowDrag = _m[0], setIncludeRowDrag = _m[1];\n    var _o = react_1.useState(false), includeDndSource = _o[0], setIncludeDndSource = _o[1];\n    var _p = react_1.useState(), jsEditorComp = _p[0], setJsEditorComp = _p[1];\n    var forceWrapper = react_1.useMemo(function () { return cellCtrl.isForceWrapper(); }, []);\n    var eGui = react_1.useRef(null);\n    var cellRendererRef = react_1.useRef(null);\n    var jsCellRendererRef = react_1.useRef();\n    var cellEditorRef = react_1.useRef();\n    // when setting the ref, we also update the state item to force a re-render\n    var eCellWrapper = react_1.useRef();\n    var _q = react_1.useState(0), cellWrapperVersion = _q[0], setCellWrapperVersion = _q[1];\n    var setCellWrapperRef = react_1.useCallback(function (ref) {\n        eCellWrapper.current = ref;\n        setCellWrapperVersion(function (v) { return v + 1; });\n    }, []);\n    // when setting the ref, we also update the state item to force a re-render\n    var eCellValue = react_1.useRef();\n    var _r = react_1.useState(0), cellValueVersion = _r[0], setCellValueVersion = _r[1];\n    var setCellValueRef = react_1.useCallback(function (ref) {\n        eCellValue.current = ref;\n        setCellValueVersion(function (v) { return v + 1; });\n    }, []);\n    var showTools = renderDetails != null && (includeSelection || includeDndSource || includeRowDrag);\n    var showCellWrapper = forceWrapper || showTools;\n    var setCellEditorRef = react_1.useCallback(function (popup, cellEditor) {\n        cellEditorRef.current = cellEditor;\n        if (cellEditor) {\n            checkCellEditorDeprecations(popup, cellEditor, cellCtrl);\n            var editingCancelledByUserComp = cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart();\n            if (editingCancelledByUserComp) {\n                // we cannot set state inside render, so hack is to do it in next VM turn\n                setTimeout(function () { return cellCtrl.stopEditing(); }, 0);\n            }\n        }\n    }, []);\n    var setPopupCellEditorRef = react_1.useCallback(function (cellRenderer) { return setCellEditorRef(true, cellRenderer); }, []);\n    var setInlineCellEditorRef = react_1.useCallback(function (cellRenderer) { return setCellEditorRef(false, cellRenderer); }, []);\n    showJsRenderer_1.default(renderDetails, showCellWrapper, eCellValue.current, cellValueVersion, jsCellRendererRef, eGui);\n    // if RenderDetails changed, need to call refresh. This is not our preferred way (the preferred\n    // way for React is just allow the new props to propagate down to the React Cell Renderer)\n    // however we do this for backwards compatibility, as having refresh used to be supported.\n    var lastRenderDetails = react_1.useRef();\n    react_1.useEffect(function () {\n        var oldDetails = lastRenderDetails.current;\n        var newDetails = renderDetails;\n        lastRenderDetails.current = renderDetails;\n        // if not updating renderDetails, do nothing\n        if (oldDetails == null || oldDetails.compDetails == null\n            || newDetails == null || newDetails.compDetails == null) {\n            return;\n        }\n        var oldCompDetails = oldDetails.compDetails;\n        var newCompDetails = newDetails.compDetails;\n        // if different Cell Renderer, then do nothing, as renderer will be recreated\n        if (oldCompDetails.componentClass != newCompDetails.componentClass) {\n            return;\n        }\n        // if no refresh method, do nothing\n        if (cellRendererRef.current == null || cellRendererRef.current.refresh == null) {\n            return;\n        }\n        var result = cellRendererRef.current.refresh(newCompDetails.params);\n        if (result != true) {\n            // increasing the render key forces the refresh. this is undocumented (for React users,\n            // we don't document the refresh method, instead we tell them to act on new params).\n            // however the GroupCellRenderer has this logic in it and would need a small refactor\n            // to get it working without using refresh() returning false. so this hack staying in,\n            // in React if refresh() is implemented and returns false (or undefined), we force a refresh\n            setRenderKey(function (prev) { return prev + 1; });\n        }\n    }, [renderDetails]);\n    react_1.useEffect(function () {\n        var doingJsEditor = editDetails && !editDetails.compDetails.componentFromFramework;\n        if (!doingJsEditor) {\n            return;\n        }\n        var compDetails = editDetails.compDetails;\n        var isPopup = editDetails.popup === true;\n        var cellEditor = jsComp_1.createSyncJsComp(compDetails);\n        if (!cellEditor) {\n            return;\n        }\n        var compGui = cellEditor.getGui();\n        setCellEditorRef(isPopup, cellEditor);\n        if (!isPopup) {\n            eGui.current.appendChild(compGui);\n            cellEditor.afterGuiAttached && cellEditor.afterGuiAttached();\n        }\n        setJsEditorComp(cellEditor);\n        return function () {\n            context.destroyBean(cellEditor);\n            setCellEditorRef(isPopup, undefined);\n            setJsEditorComp(undefined);\n            if (compGui && compGui.parentElement) {\n                compGui.parentElement.removeChild(compGui);\n            }\n        };\n    }, [editDetails]);\n    // tool widgets effect\n    react_1.useEffect(function () {\n        if (!cellCtrl || !context) {\n            return;\n        }\n        setAriaDescribedBy(!!eCellWrapper.current ? \"cell-\" + cellCtrl.getInstanceId() : undefined);\n        if (!eCellWrapper.current || !showCellWrapper) {\n            return;\n        }\n        var destroyFuncs = [];\n        var addComp = function (comp) {\n            if (comp) {\n                var eGui_1 = comp.getGui();\n                eCellWrapper.current.insertAdjacentElement('afterbegin', eGui_1);\n                destroyFuncs.push(function () {\n                    context.destroyBean(comp);\n                    ag_grid_community_1._.removeFromParent(eGui_1);\n                });\n            }\n            return comp;\n        };\n        if (includeSelection) {\n            addComp(cellCtrl.createSelectionCheckbox());\n        }\n        if (includeDndSource) {\n            addComp(cellCtrl.createDndSource());\n        }\n        if (includeRowDrag) {\n            addComp(cellCtrl.createRowDragComp());\n        }\n        return function () {\n            destroyFuncs.forEach(function (f) {\n                f();\n            });\n        };\n    }, [showCellWrapper, includeDndSource, includeRowDrag, includeSelection, cellWrapperVersion]);\n    useEffectOnce_1.useEffectOnce(function () {\n        if (!cellCtrl) {\n            return;\n        }\n        var compProxy = {\n            addOrRemoveCssClass: function (name, on) { return setCssClasses(function (prev) { return prev.setClass(name, on); }); },\n            setUserStyles: function (styles) { return setUserStyles(styles); },\n            getFocusableElement: function () { return eGui.current; },\n            setTabIndex: function (tabIndex) { return setTabIndex(tabIndex); },\n            setRole: function (role) { return setRole(role); },\n            setColId: function (colId) { return setColId(colId); },\n            setTitle: function (title) { return setTitle(title); },\n            setIncludeSelection: function (include) { return setIncludeSelection(include); },\n            setIncludeRowDrag: function (include) { return setIncludeRowDrag(include); },\n            setIncludeDndSource: function (include) { return setIncludeDndSource(include); },\n            getCellEditor: function () { return cellEditorRef.current || null; },\n            getCellRenderer: function () { return cellRendererRef.current ? cellRendererRef.current : jsCellRendererRef.current; },\n            getParentOfValue: function () { return eCellValue.current ? eCellValue.current : eCellWrapper.current ? eCellWrapper.current : eGui.current; },\n            setRenderDetails: function (compDetails, value, force) {\n                setRenderDetails({\n                    value: value,\n                    compDetails: compDetails,\n                    force: force\n                });\n            },\n            setEditDetails: function (compDetails, popup, popupPosition) {\n                if (compDetails) {\n                    // start editing\n                    setEditDetails({\n                        compDetails: compDetails,\n                        popup: popup,\n                        popupPosition: popupPosition\n                    });\n                    if (!popup) {\n                        setRenderDetails(undefined);\n                    }\n                }\n                else {\n                    // stop editing\n                    setEditDetails(undefined);\n                }\n            }\n        };\n        var cellWrapperOrUndefined = eCellWrapper.current || undefined;\n        cellCtrl.setComp(compProxy, eGui.current, cellWrapperOrUndefined, printLayout, editingRow);\n    });\n    var reactCellRendererStateless = react_1.useMemo(function () {\n        var res = renderDetails && renderDetails.compDetails\n            && renderDetails.compDetails.componentFromFramework\n            && utils_1.isComponentStateless(renderDetails.compDetails.componentClass);\n        return !!res;\n    }, [renderDetails]);\n    var className = react_1.useMemo(function () {\n        var res = cssClasses.toString();\n        if (!showCellWrapper) {\n            res += ' ag-cell-value';\n        }\n        return res;\n    }, [cssClasses, showTools]);\n    var cellInstanceId = react_1.useMemo(function () { return cellCtrl.getInstanceId(); }, []);\n    var showContents = function () { return react_1.default.createElement(react_1.default.Fragment, null,\n        renderDetails != null && jsxShowValue(renderDetails, renderKey, cellInstanceId, cellRendererRef, showCellWrapper, reactCellRendererStateless, setCellValueRef),\n        editDetails != null && jsxEditValue(editDetails, setInlineCellEditorRef, setPopupCellEditorRef, eGui.current, cellCtrl, jsEditorComp)); };\n    return (react_1.default.createElement(\"div\", { ref: eGui, className: className, style: userStyles, tabIndex: tabIndex, role: role, \"col-id\": colId, title: title, \"aria-describedby\": ariaDescribedBy }, showCellWrapper ?\n        react_1.default.createElement(\"div\", { className: \"ag-cell-wrapper\", role: \"presentation\", ref: setCellWrapperRef }, showContents())\n        :\n            showContents()));\n};\nexports.default = react_1.memo(CellComp);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}