{"ast":null,"code":"import _slicedToArray from\"/Users/apollostowel/firebasetodo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{AgGridColumn,AgGridReact}from'ag-grid-react';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import IconButton from'@material-ui/core/IconButton';import DeleteIcon from'@material-ui/icons/Delete';import AddTodo from'./AddTodo';import'./App.css';import'ag-grid-community/dist/styles/ag-grid.css';import'ag-grid-community/dist/styles/ag-theme-material.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];useEffect(function(){fetchItems();// eslint-disable-next-line\n},[]);var fetchItems=function fetchItems(){fetch('https://todolist-4e3e3-default-rtdb.europe-west1.firebasedatabase.app/items/.json').then(function(response){return response.json();}).then(function(data){return addKeys(data);}).catch(function(err){return console.error(err);});};var addKeys=function addKeys(data){var keys=Object.keys(data);var valueKeys=Object.values(data).map(function(item,index){return Object.defineProperty(item,'id',{value:keys[index]});});setTodos(valueKeys);};var addTodo=function addTodo(newTodo){fetch('https://todolist-4e3e3-default-rtdb.europe-west1.firebasedatabase.app/items/.json',{method:'POST',body:JSON.stringify(newTodo)}).then(function(response){return fetchItems();}).catch(function(err){return console.error(err);});};var deleteTodo=function deleteTodo(id){fetch(\"https://todolist-4e3e3-default-rtdb.europe-west1.firebasedatabase.app/items/\".concat(id,\".json\"),{method:'DELETE'}).then(function(response){return fetchItems();}).catch(function(err){return console.error(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",style:{marginBottom:15},children:/*#__PURE__*/_jsx(Toolbar,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",noWrap:true,children:\"TodoList\"})})}),/*#__PURE__*/_jsx(AddTodo,{addTodo:addTodo}),/*#__PURE__*/_jsx(\"div\",{className:\"ag-theme-material\",style:{height:400,width:700,margin:'auto'},children:/*#__PURE__*/_jsxs(AgGridReact,{rowData:todos,animateRows:true,rowDragManaged:true,children:[/*#__PURE__*/_jsx(AgGridColumn,{sortable:true,filter:true,rowDrag:true,field:\"description\"}),/*#__PURE__*/_jsx(AgGridColumn,{sortable:true,filter:true,field:\"date\"}),/*#__PURE__*/_jsx(AgGridColumn,{sortable:true,filter:true,field:\"priority\"}),/*#__PURE__*/_jsx(AgGridColumn,{headerName:\"\",field:\"id\",width:90,cellRendererFramework:function cellRendererFramework(params){return/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return deleteTodo(params.value);},size:\"small\",color:\"secondary\",children:/*#__PURE__*/_jsx(DeleteIcon,{})});}})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","AgGridColumn","AgGridReact","AppBar","Toolbar","Typography","IconButton","DeleteIcon","AddTodo","App","todos","setTodos","fetchItems","fetch","then","response","json","data","addKeys","catch","err","console","error","keys","Object","valueKeys","values","map","item","index","defineProperty","value","addTodo","newTodo","method","body","JSON","stringify","deleteTodo","id","marginBottom","height","width","margin","params"],"sources":["/Users/apollostowel/firebasetodo/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { AgGridColumn, AgGridReact } from 'ag-grid-react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddTodo from './AddTodo';\n\n\nimport './App.css';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n\n  useEffect(() => {\n    fetchItems(); \n\n    // eslint-disable-next-line\n  }, [])\n\n  const fetchItems = () => {\n    fetch('https://todolist-4e3e3-default-rtdb.europe-west1.firebasedatabase.app/items/.json')\n    .then(response => response.json())\n    .then(data => addKeys(data))\n    .catch(err => console.error(err))\n  }\n\n  const addKeys = (data) => {\n    const keys = Object.keys(data);\n    const valueKeys = Object.values(data).map((item, index) => \n    Object.defineProperty(item, 'id', {value: keys[index]}));\n    setTodos(valueKeys);\n  }\n\n  const addTodo =(newTodo) => {\n    fetch('https://todolist-4e3e3-default-rtdb.europe-west1.firebasedatabase.app/items/.json',\n    {\n      method: 'POST',\n      body: JSON.stringify(newTodo)\n    })\n    .then(response => fetchItems())\n    .catch(err => console.error(err))\n  }\n\n  const deleteTodo = (id) => {\n    fetch(`https://todolist-4e3e3-default-rtdb.europe-west1.firebasedatabase.app/items/${id}.json`,\n    {\n      method: 'DELETE',\n    })\n    .then(response => fetchItems())\n    .catch(err => console.error(err))\n  }\n  \n  return (\n    <div className=\"App\">\n      <AppBar position=\"static\" style={{marginBottom: 15}}>\n        <Toolbar>\n          <Typography variant=\"h5\" noWrap>TodoList</Typography>\n        </Toolbar>\n      </AppBar>\n      <AddTodo addTodo={addTodo} />\n      <div className=\"ag-theme-material\" style={{height: 400, width: 700, margin: 'auto'}}>\n        <AgGridReact rowData={todos} animateRows={true} rowDragManaged={true}>\n          <AgGridColumn sortable={true} filter={true} rowDrag={true} field='description' />\n          <AgGridColumn sortable={true} filter={true} field='date' />\n          <AgGridColumn sortable={true} filter={true} field='priority' />\n          <AgGridColumn headerName='' field='id' width={90}\n            cellRendererFramework={ params =>\n            <IconButton onClick={() => deleteTodo(params.value)} size=\"small\" color=\"secondary\">\n              <DeleteIcon />\n            </IconButton> \n           } \n          />\n        </AgGridReact> \n      </div> \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}